<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>KALISTIA</title>
  <link rel="stylesheet" href="style.css" />

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { getDatabase, ref, set, push, onValue } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";

    const firebaseConfig = {
    apiKey: "AIzaSyD3jyzvzHs2QvvgIt8PsYd6CfgWqF8nltg",
    authDomain: "kalistia-d34be.firebaseapp.com",
    projectId: "kalistia-d34be",
    storageBucket: "kalistia-d34be.firebasestorage.app",
    messagingSenderId: "804553759366",
    appId: "1:804553759366:web:f4defef4c8358f79e78f07"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.firebaseDB = db;
    window.firebaseRef = ref;
    window.firebasePush = push;
    window.firebaseSet = set;
    window.firebaseOnValue = onValue;
  </script>
</head>


</head>

<body>

<div id="login-container">
  <h2>BIENVENIDO, Inicia SesiÃ³n</h2>
  <input type="text" id="usuario" placeholder="Usuario" />
  <input type="password" id="contrasena" placeholder="ContraseÃ±a" />
  <button onclick="iniciarSesion()">Entrar</button>
</div>

<div id="app-container" style="display: none;">

  <h1>KALISTIA</h1>
  <h1>Control de Productos y Ventas</h1>
  
<button onclick="mostrarSeccion('venta')">ðŸ“„ Registrar Venta</button>
<button onclick="mostrarSeccion('producto')">âž• Registrar Producto</button>
<button onclick="mostrarSeccion('inventario')">ðŸ“¦ Inventario</button>
<button onclick="mostrarSeccion('historial')">ðŸ§¾ Historial de Ventas</button>
<button onclick="mostrarSeccion('resumen')">ðŸ“Š Resumen</button>


  <section id="registro-venta" class="seccion">
    <h2>Registrar Venta</h2>
    <select id="producto-select"></select>
    <input type="number" id="cantidad-vendida" placeholder="Cantidad" />
    <button onclick="registrarVenta()">Registrar Venta</button>
  </section>

  <section id="registro-producto" class="seccion">
    <h2>Registrar Producto</h2>
    <input type="text" id="nombre" placeholder="Nombre del producto" />
    <input type="number" id="costo" placeholder="Costo ($)" />
    <input type="number" id="precio" placeholder="Precio de venta ($)" />
    <input type="number" id="stock" placeholder="Stock" />
    <input type="file" id="foto" accept="image/*" />
    <button onclick="registrarProducto()">Guardar Producto</button>
  </section>

  <section id="inventario" class="seccion">
    <h2>Inventario</h2>
    <ul id="lista-inventario"></ul>
  </section>

  <section id="historial" class="seccion">
  <h2>Historial de Ventas</h2>
  <ul id="lista-historial"></ul>
</section>

<section id="resumen" class="seccion" style="display: none;">
  <h2>Resumen</h2>
  <div id="tabla-inversion">
    <h3>InversiÃ³n Total</h3>
    <table border="1">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Costo</th>
          <th>Stock</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody id="cuerpo-inversion"></tbody>
      <tfoot>
        <tr>
          <td colspan="3"><strong>Total</strong></td>
          <td id="total-inversion"></td>
        </tr>
      </tfoot>
    </table>
  </div>
  <div id="tabla-ganancia">
    <h3>Ganancia Total</h3>
    <table border="1">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Ganancia</th>
        </tr>
      </thead>
      <tbody id="cuerpo-ganancia"></tbody>
      <tfoot>
        <tr>
          <td><strong>Total</strong></td>
          <td id="total-ganancia"></td>
        </tr>
      </tfoot>
    </table>
  </div>
</section>
  </div>

  <script src="app.js"></script>
  <script>

function iniciarSesion() {
    const usuario = document.getElementById("usuario").value;
    const contrasena = document.getElementById("contrasena").value;

    if (usuario === "DANIEL MANCILLA" && contrasena === "2606") {
      document.getElementById("login-container").style.display = "none";
      document.getElementById("app-container").style.display = "block";
    } else {
      alert("Credenciales incorrectas");
    }
  }

  function mostrarSeccion(id) {
    const secciones = document.querySelectorAll(".seccion");
    secciones.forEach(sec => sec.style.display = "none");
    document.getElementById(id).style.display = "block";
  }
</script>

</body>
</html>

</div>